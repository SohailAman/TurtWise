import { useState } from "react";

const VulnerabilityTrace = () => {
  const [activeTab, setActiveTab] = useState("query");

  const handleTabChange = (tab: string) => {
    setActiveTab(tab);
  };

  return (
    <div className="mt-8">
      <h2 className="mb-[6px] font-[600] text-[#253238] leading-[126%] lg:text-[32px] md:text-[24] text-[18px]">
        Vulnerability Trace
      </h2>
      {/* Tab Buttons */}
      <div className="flex space-x-[2px] items-end w-100 lg:overflow-x-auto overflow-x-scroll  flex-nowrap">
        <button
          onClick={() => handleTabChange("query")}
          className={`flex items-center flex-1 align-center h-[40px] text-[13px] font-[400] leading-[140%] rounded-[34px] outline-none bg-[#E6F3F5] ${
            activeTab === "query" ? "pb-[3px]" : "mb-[3px]"
          }`}
        >
          <div
            className={`flex items-center align-center gap-[10px] h-[33px] min-w-36 px-[20px] rounded-[34px] mt-[5px] mx-[6px] w-full ${
              activeTab === "query"
                ? "bg-white text-black"
                : "bg-[#E6F3F5] text-[#90A4AF]"
            } `}
          >
            <img
              src="../../../public/assets/query.svg"
              className="h-[15px] w-[15px]"
              alt=""
            />
            <span>Query</span>
          </div>
        </button>
        <button
          onClick={() => handleTabChange("retrieve")}
          className={`flex items-center flex-1 align-center h-[40px] text-[13px] font-[400] leading-[140%] rounded-[34px] outline-none bg-[#E6F3F5] ${
            activeTab === "retrieve" ? "pb-[3px]" : "mb-[3px]"
          }`}
        >
          <div
            className={`flex items-center align-center gap-[10px] h-[33px] min-w-36 px-[20px] rounded-[34px] mt-[5px] mx-[6px] w-full ${
              activeTab === "retrieve"
                ? "bg-white text-black"
                : "bg-[#E6F3F5] text-[#90A4AF]"
            } `}
          >
            <img
              src="../../../public/assets/retrieve.svg"
              className="h-[15px] w-[15px]"
              alt=""
            />
            <span>Retrieve</span>
          </div>
        </button>
        <button
          onClick={() => handleTabChange("synthesize")}
          className={`flex items-center flex-1 align-center h-[40px] text-[13px] font-[400] leading-[140%] rounded-[34px] outline-none bg-[#E6F3F5] ${
            activeTab === "synthesize" ? "pb-[3px]" : "mb-[3px]"
          }`}
        >
          <div
            className={`flex items-center align-center gap-[10px] h-[33px] min-w-36 px-[20px] rounded-[34px] mt-[5px] mx-[6px] w-full ${
              activeTab === "synthesize"
                ? "bg-white text-black"
                : "bg-[#E6F3F5] text-[#90A4AF]"
            } `}
          >
            <img
              src="../../../public/assets/synthesize.svg"
              className="h-[15px] w-[15px]"
              alt=""
            />
            <span>Synthesize</span>{" "}
          </div>
        </button>
        <button
          onClick={() => handleTabChange("template")}
          className={`flex items-center flex-1 align-center h-[40px] text-[13px] font-[400] leading-[140%] rounded-[34px] outline-none bg-[#E6F3F5] ${
            activeTab === "template" ? "pb-[3px]" : "mb-[3px]"
          }`}
        >
          <div
            className={`flex items-center align-center gap-[10px] h-[33px] min-w-36 px-[20px] rounded-[34px] mt-[5px] mx-[6px] w-full ${
              activeTab === "template"
                ? "bg-white text-black"
                : "bg-[#E6F3F5] text-[#90A4AF]"
            } `}
          >
            <img
              src="../../../public/assets/template.svg"
              className="h-[15px] w-[15px]"
              alt=""
            />
            <span>Template</span>{" "}
          </div>
        </button>
        <button
          onClick={() => handleTabChange("llm")}
          className={`flex items-center flex-1 align-center h-[40px] text-[13px] font-[400] leading-[140%] rounded-[34px] outline-none bg-[#E6F3F5] ${
            activeTab === "llm" ? "pb-[3px]" : "mb-[3px]"
          }`}
        >
          <div
            className={`flex items-center align-center gap-[10px] h-[33px] min-w-36 px-[20px] rounded-[34px] mt-[5px] mx-[6px] w-full ${
              activeTab === "llm"
                ? "bg-white text-black"
                : "bg-[#E6F3F5] text-[#90A4AF]"
            } `}
          >
            <img
              src="../../../public/assets/llm.svg"
              className="h-[15px] w-[15px]"
              alt=""
            />
            <span>LLM</span>{" "}
          </div>
        </button>
      </div>

      {/* Tab Content */}
      <div className="bg-[#F5F8F8] p-[20px] mb-[50px] rounded-[16px]">
        {activeTab === "query" && (
          <>
            <div className="flex justify-start items-start flex-wrap gap-[50px] border-b border-[#EEEEEE] pb-[40px]">
              <div className="max-w-[648px] w-full">
                <h1 className="lg:text-[24px] md:text-[20px] text-[16px] font-[600] leading-[140%] text-[#253238]">
                  Query Overview
                </h1>
                <h3 className="lg:text-[18px] md:text-[16px] text-[14px] font-[600] leading-[140%] text-[#455B66] mt-[30px] border-b border-[ #EEEEEE]">
                  Result Set 1
                </h3>
                <div className="flex flex-col gap-[20px] mt-[20px]">
                  <div className="flex flex-col gap-[10px]">
                    <h2 className="md:text-[16px] text-[14px] font-[600] leading-[140%] text-[#455B66] border-b border-[ #EEEEEE]">
                      Inputs
                    </h2>
                    <div className="flex items-center gap-[10px]">
                      <h4 className="md:text-[14px] text-[12px] max-w-[100px] w-full font-[500] leading-[140%] text-[#455B66]">
                        query_str
                      </h4>
                      <p className="md:text-[14px] text-[12px] font-[400] leading-[140%] text-[#455B66]">
                        What are the substitutes for Ascoril A?
                      </p>
                    </div>
                  </div>
                  <div className="flex flex-col gap-[10px]">
                    <h2 className="md:text-[16px] text-[14px] font-[600] leading-[140%] text-[#455B66] border-b border-[ #EEEEEE]">
                      Outputs
                    </h2>
                    <div className="flex items-center gap-[10px]">
                      <h4 className="md:text-[14px] text-[12px] max-w-[100px] w-full font-[500] leading-[140%] text-[#455B66]">
                        response:
                      </h4>
                      <p className="md:text-[14px] text-[12px] font-[400] leading-[140%] text-[#455B66]">
                        What are the substitutes for Ascoril A?
                        <span className="text-[#E94235]">
                          &nbsp; Zedex Plus SF Syrup,
                        </span>
                        &nbsp; Oxq P Syrup
                      </p>
                    </div>
                  </div>
                  <div className="flex flex-col gap-[10px]">
                    <h2 className="md:text-[16px] text-[14px] font-[600] leading-[140%] text-[#455B66] border-b border-[ #EEEEEE]">
                      Metadata
                    </h2>
                    <div className="flex items-center gap-[10px]">
                      <h4 className="md:text-[14px] text-[12px] max-w-[100px] w-full font-[500] leading-[140%] text-[#455B66]">
                        Kind
                      </h4>
                      <p className="md:text-[14px] text-[12px] font-[400] leading-[140%] text-[#455B66]">
                        AGENT
                      </p>
                    </div>
                    <div className="flex items-center gap-[10px]">
                      <h4 className="md:text-[14px] text-[12px] max-w-[100px] w-full font-[500] leading-[140%] text-[#455B66]">
                        Start Time
                      </h4>
                      <p className="md:text-[14px] text-[12px] font-[400] leading-[140%] text-[#455B66]">
                        Mon. Aug. 28. 2023 06:33:27 GMT-(Central Daylight Time)
                      </p>
                    </div>
                  </div>
                </div>
              </div>
              <div className="max-w-[648px] w-full">
                <h1 className="lg:text-[24px] md:text-[20px] text-[16px] font-[600] leading-[140%] text-[#253238]">
                  Model Details and Tokens Used
                </h1>
                <div className="flex flex-col gap-[20px] mt-[33px]">
                  <div className="flex items-center gap-[10px] border-b border-[#EEEEEE]">
                    <h4 className="md:text-[16px] text-[14px] max-w-[155px] w-full font-[600] leading-[140%] text-[#455B66]">
                      Model scanned:
                    </h4>
                    <p className="md:text-[14px] text-[12px] font-[400] leading-[140%] text-[#455B66]">
                      GPT-4-0613
                    </p>
                  </div>
                  <div className="flex items-center gap-[10px] border-b border-[#EEEEEE]">
                    <h4 className="md:text-[16px] text-[14px] max-w-[155px] w-full font-[600] leading-[140%] text-[#455B66]">
                      Model prompt:
                    </h4>
                    <p className="md:text-[14px] text-[12px] font-[400] leading-[140%] text-[#455B66]">
                      You are an intelligent medical assistantâ€¦{" "}
                    </p>
                  </div>
                  <div className="flex items-center gap-[10px] border-b border-[#EEEEEE]">
                    <h4 className="md:text-[16px] text-[14px] max-w-[155px] w-full font-[600] leading-[140%] text-[#455B66]">
                      Prompt tokens:
                    </h4>
                    <p className="md:text-[14px] text-[12px] font-[400] leading-[140%] text-[#455B66]">
                      874
                    </p>
                  </div>
                  <div className="flex items-center gap-[10px] border-b border-[#EEEEEE]">
                    <h4 className="md:text-[16px] text-[14px] max-w-[155px] w-full font-[600] leading-[140%] text-[#455B66]">
                      Completion tokens:
                    </h4>
                    <p className="md:text-[14px] text-[12px] font-[400] leading-[140%] text-[#455B66]">
                      225
                    </p>
                  </div>
                  <div className="flex items-center gap-[10px] border-b border-[#EEEEEE]">
                    <h4 className="md:text-[16px] text-[14px] max-w-[155px] w-full font-[600] leading-[140%] text-[#455B66]">
                      Total tokens used:
                    </h4>
                    <p className="md:text-[14px] text-[12px] font-[400] leading-[140%] text-[#455B66]">
                      1099
                    </p>
                  </div>
                  <div className="flex items-center border-b border-[#EEEEEE]">
                    <h4 className="md:text-[16px] text-[14px] max-w-[155px] w-full font-[600] leading-[140%] text-[#455B66]">
                      Tokens remaining -
                    </h4>
                    <p className="md:text-[14px] text-[12px] font-[400] leading-[140%] text-[#455B66]">
                      5289
                    </p>
                  </div>
                </div>
              </div>
            </div>
            <div className="mt-[37px]">
              <h1 className="lg:text-[24px] md:text-[20px] text-[16px] font-[600] leading-[140%] text-[#253238]">
                Query Trace
              </h1>
              <div className="mt-[23px] bg-[#FFFFFF] p-[20px] rounded-[16px]">
                <div>
                  <code className="lg:text-[18px] md:text-[16px] text-[14px] font-[700] leading-[140%] text-[#253238]">
                    **********
                    <br />
                    Trace: query
                    <br />
                    &nbsp;&nbsp;&nbsp; |_query -&#62; 21.742601 second
                    <br />
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |_retrieve -&#62; 0.412619
                    second
                    <br />
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |_synthesize -&#62; 21.329982
                    second
                    <br />
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |_templating
                    -&#62; 0.0 second
                    <br />
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |_llm -&#62;
                    21.324064 second
                    <br />
                    **********
                  </code>
                </div>
              </div>
            </div>
          </>
        )}
        {activeTab === "retrieve" && <div>Retrieve content goes here</div>}
        {activeTab === "synthesize" && <div>Synthesize content goes here</div>}
        {activeTab === "template" && <div>Template content goes here</div>}
        {activeTab === "llm" && <div>LLM content goes here</div>}
      </div>
    </div>
  );
};

export default VulnerabilityTrace;
